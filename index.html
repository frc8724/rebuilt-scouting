<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Rebuilt Scouting</title>
<style>
body { font-family: -apple-system, system-ui; background:#0b0f19; color:#e8eefc; margin:0; padding:12px;}
.card { background:rgba(255,255,255,0.06); padding:14px; border-radius:12px; margin-bottom:12px;}
h2 { margin-top:0;}
button { padding:12px; margin:4px; border-radius:10px; border:none; font-size:16px;}
.primary { background:#2b6cff; color:white;}
.counter { font-size:32px; margin:10px 0;}
.hidden { display:none;}
select, input, textarea { width:100%; padding:10px; margin:4px 0; border-radius:8px; font-size:16px;}
textarea { min-height:70px;}
.small { font-size:13px; opacity:0.8;}
</style>
</head>
<body>

<div class="card" id="setup">
<h2>Setup</h2>
<input id="match" placeholder="Match #">
<input id="team" placeholder="Team #">
<select id="alliance">
<option>Red</option>
<option>Blue</option>
</select>
<button class="primary" onclick="nextStep('auto')">Start → Auto</button>
</div>

<div class="card hidden" id="auto">
<h2>Auto</h2>
<div>Fuel</div>
<div class="counter" id="autoFuel">0</div>
<button onclick="addFuel('autoFuel',5)">+5</button>
<button onclick="addFuel('autoFuel',1)">+1</button>
<button onclick="addFuel('autoFuel',-1)">-1</button>

<select id="autoWin">
<option>Won Auto</option>
<option>Lost Auto</option>
<option>Tied</option>
</select>

<select id="autoClimb">
<option>No Auto Climb</option>
<option>Low Climb</option>
</select>

<button class="primary" onclick="nextStep('active1')">Next → Active 1</button>
</div>

<div class="card hidden" id="active1">
<h2>Active 1</h2>
<div>Fuel</div>
<div class="counter" id="a1Fuel">0</div>
<button onclick="addFuel('a1Fuel',5)">+5</button>
<button onclick="addFuel('a1Fuel',1)">+1</button>
<button onclick="addFuel('a1Fuel',-1)">-1</button>

<div>Cycles</div>
<div class="counter" id="a1Cycles">0</div>
<button onclick="addFuel('a1Cycles',1)">+1 Cycle</button>
<button onclick="addFuel('a1Cycles',-1)">-1 Cycle</button>

<button class="primary" onclick="nextStep('inactive1',true)">Next → Inactive 1</button>
</div>

<div class="card hidden" id="inactive1">
<h2>Inactive 1</h2>

<select id="i1Action">
<option>Hoarded</option>
<option>Defense</option>
<option>Both</option>
<option>Neither</option>
<option>Other</option>
</select>

<select id="i1Position">
<option>Ended AZ</option>
<option>Ended NZ</option>
<option>Other</option>
</select>

<select id="i1Ready">
<option>Ready to Shoot</option>
<option>Not Ready</option>
<option>Unknown</option>
</select>

<button class="primary" onclick="nextStep('active2')">Next → Active 2</button>
</div>

<div class="card hidden" id="active2">
<h2>Active 2</h2>
<div>Fuel</div>
<div class="counter" id="a2Fuel">0</div>
<button onclick="addFuel('a2Fuel',5)">+5</button>
<button onclick="addFuel('a2Fuel',1)">+1</button>
<button onclick="addFuel('a2Fuel',-1)">-1</button>

<div>Cycles</div>
<div class="counter" id="a2Cycles">0</div>
<button onclick="addFuel('a2Cycles',1)">+1 Cycle</button>
<button onclick="addFuel('a2Cycles',-1)">-1 Cycle</button>

<button class="primary" onclick="nextStep('inactive2',true)">Next → Inactive 2</button>
</div>

<div class="card hidden" id="inactive2">
<h2>Inactive 2</h2>

<select id="i2Action">
<option>Hoarded</option>
<option>Defense</option>
<option>Both</option>
<option>Neither</option>
<option>Other</option>
</select>

<select id="i2Position">
<option>Ended AZ</option>
<option>Ended NZ</option>
<option>Other</option>
</select>

<select id="i2Ready">
<option>Ready to Shoot</option>
<option>Not Ready</option>
<option>Unknown</option>
</select>

<button class="primary" onclick="nextStep('shared')">Next → Shared Active</button>
</div>

<div class="card hidden" id="shared">
<h2>Shared Active</h2>
<div>Fuel</div>
<div class="counter" id="sFuel">0</div>
<button onclick="addFuel('sFuel',5)">+5</button>
<button onclick="addFuel('sFuel',1)">+1</button>
<button onclick="addFuel('sFuel',-1)">-1</button>

<div>Cycles</div>
<div class="counter" id="sCycles">0</div>
<button onclick="addFuel('sCycles',1)">+1 Cycle</button>
<button onclick="addFuel('sCycles',-1)">-1 Cycle</button>

<button class="primary" onclick="nextStep('endgame',true)">Next → Endgame</button>
</div>

<div class="card hidden" id="endgame">
<h2>Endgame</h2>

<select id="endAction">
<option>High Climb</option>
<option>Mid Climb</option>
<option>Low Climb</option>
<option>Continued Shooting</option>
<option>None</option>
</select>

<select id="endSuccess">
<option>Success</option>
<option>Failed</option>
<option>N/A</option>
</select>

<div>Defense Impact (1–5)</div>
<input type="number" id="defenseRating" min="1" max="5">

<div>Driver Competency (1–5)</div>
<input type="number" id="driverRating" min="1" max="5">

<div>Robot Capability (1–5)</div>
<input type="number" id="robotRating" min="1" max="5">

<textarea id="notes" placeholder="Notes"></textarea>

<button class="primary" onclick="saveMatch()">Save Match</button>
</div>

<script>
let currentStep = "setup";

function nextStep(step, reset=false){
document.getElementById(currentStep).classList.add("hidden");
if(reset){
resetCounters();
}
document.getElementById(step).classList.remove("hidden");
currentStep = step;
}

function addFuel(id, value){
let el = document.getElementById(id);
let num = parseInt(el.innerText);
num += value;
if(num < 0) num = 0;
el.innerText = num;
}

function resetCounters(){
["a1Fuel","a1Cycles","a2Fuel","a2Cycles","sFuel","sCycles"].forEach(id=>{
document.getElementById(id).innerText = 0;
});
}

function saveMatch(){
alert("Match saved (add CSV logic here)");
location.reload();
}
</script>

</body>
</html>
